<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
   >
<head>

    <h:head>
        <h:outputStylesheet library="webjars" name="bootstrap/5.3.2/css/bootstrap.min.css" />
    </h:head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"/>
    <link  href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet"/>
    <link rel="stylesheet" href="CSS/style.css"/>
</head>
<f:view>
    <div class="container">
        <h:form>
            <h:dataTable styleClass="table "  headerClass="table-header"   var="item" value="#{employeeBean.models}"  >
                    <h:column rowHeader="true" >
                        <f:facet  name="header" >
                               Numero
                        </f:facet>
                        <h:outputText value="#{item.id}" />
                    </h:column>
                    <h:column class="bg-primary text-white">
                        <f:facet name="header">
                           Nom
                        </f:facet>
                        <h:outputText value="#{item.name}"  rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:inputText id="name" value="#{employeeBean.employee.name}" rendered="#{employeeBean.activateEdit(item)}"/>
                    </h:column>

                    <h:column class="bg-success text-white" >
                        <f:facet name="header">
                           Prenom
                        </f:facet>
                        <h:outputText value="#{item.departement}" rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:inputText id="departement" value="#{employeeBean.employee.departement}"  rendered="#{employeeBean.activateEdit(item)}"/>
                    </h:column>

                    <h:column class="bg-warning text-dark">
                        <f:facet name="header">
                            Email
                        </f:facet>
                        <h:outputText value="#{item.email}" rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:inputText id="email" value="#{employeeBean.employee.email}"  rendered="#{employeeBean.activateEdit(item)}"/>
                    </h:column>

                    <h:column class="bg-info text-dark" >
                        <f:facet name="header">
                            Date de naissance
                        </f:facet>
                        <h:outputText value="#{item.brthd}"  rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:inputText id="brthd" value="#{employeeBean.employee.brthd}" converter="dateConverter"  rendered="#{employeeBean.activateEdit(item)}"/>
                    </h:column>
                    <h:column >
                        <f:facet name="header">
                            Action
                        </f:facet>
                        <h:commandButton value="Modifier" styleClass="btn btn-secondary" action="#{employeeBean.activateEditButton(item)}" rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:commandButton value="Supprimer" action="#{employeeBean.deleteEmployee(item.id)}" styleClass="btn btn-warning" rendered="#{!employeeBean.activateEdit(item)}"/>
                        <h:commandButton value="Sauvegarder" styleClass="btn btn-primary" action="#{employeeBean.updateEmployee(item)}" rendered="#{employeeBean.activateEdit(item)}"/>
                        <h:commandButton value="Annuler" action="#{employeeBean.desactivateEdit(item)}" styleClass="btn btn-light" rendered="#{employeeBean.activateEdit(item)}"/>
                        <f:facet name="footer">
                            <h:commandButton action="ajouter.xhtml" value="Ajouter" class="btn btn-info" />
                        </f:facet>
                    </h:column>

            </h:dataTable>



            <div class="footer">

                <div class="pagination">
                    <div class="sub-pagination">
                        <h:commandLink  actionListener="#{employeeBean.firstPage()}" styleClass="btn btn-primary"  rendered="#{employeeBean.checkSubOne}" > <i class="bi bi-chevron-double-left"/> </h:commandLink>
                        <h:commandLink   actionListener="#{employeeBean.subsOneToI()}" styleClass="btn btn-primary"  rendered="#{employeeBean.checkSubOne}" > <i class="bi bi-chevron-left"/>  </h:commandLink>
                    </div>
                   <div class="sub-pagination">
                       <h:commandLink  actionListener="#{employeeBean.addOneToI()}" styleClass="btn btn-primary" rendered="#{employeeBean.checkAddOne}" > <i class="bi bi-chevron-right"/> </h:commandLink>
                       <h:commandLink  actionListener="#{employeeBean.lastPage()}" styleClass="btn btn-primary"  rendered="#{employeeBean.checkAddOne}"> <i class="bi bi-chevron-double-right"/> </h:commandLink>

                   </div>
                </div>
            </div>
        </h:form>




    </div>
</f:view>
</html>
